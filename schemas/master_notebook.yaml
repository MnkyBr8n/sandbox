{
  "schema_id": "notebook_schema_v1",
  "schema_version": "1.0",
  "field_id_registry": {
    "code": [
      {"field_id": "repo.primary_language", "value_type": "string", "multi": false, "required": false},
      {"field_id": "repo.entrypoints", "value_type": "string_list", "multi": true, "required": false},
      {"field_id": "repo.modules", "value_type": "string_list", "multi": true, "required": false},
      {"field_id": "repo.test_framework", "value_type": "string", "multi": false, "required": false},
      {"field_id": "repo.ci_pipeline", "value_type": "string", "multi": false, "required": false}
    ],
    "text": [
      {"field_id": "doc.title", "value_type": "string", "multi": false, "required": false},
      {"field_id": "doc.key_requirements", "value_type": "string_list", "multi": true, "required": false},
      {"field_id": "doc.entities", "value_type": "string_list", "multi": true, "required": false},
      {"field_id": "doc.open_questions", "value_type": "string_list", "multi": true, "required": false},
      {"field_id": "doc.risks", "value_type": "string_list", "multi": true, "required": false}
    ]
  },
  "snapshot_templates": {
    "text": {
      "meta": {
        "project_id": "",
        "snapshot_type": "text",
        "schema_id": "notebook_schema_v1",
        "snapshot_id": "",
        "artifacts": {
          "code_intel_enabled": false,
          "text_intel_enabled": true,
          "connections_enabled": false
        }
      },
      "fields": {
        "doc.title": {
          "value": null,
          "sources": [],
          "repeats_index": { "references": [] }
        },
        "doc.key_requirements": {
          "value": [],
          "sources": [],
          "repeats_index": { "references": [] }
        },
        "doc.entities": {
          "value": [],
          "sources": [],
          "repeats_index": { "references": [] }
        },
        "doc.open_questions": {
          "value": [],
          "sources": [],
          "repeats_index": { "references": [] }
        },
        "doc.risks": {
          "value": [],
          "sources": [],
          "repeats_index": { "references": [] }
        }
      },
      "text_intel": {
        "extractor_runs": []
      },
      "coverage": {
        "filled_field_ids": [],
        "missing_field_ids": [
          "doc.title",
          "doc.key_requirements",
          "doc.entities",
          "doc.open_questions",
          "doc.risks"
        ]
      }
    },
    "code": {
      "meta": {
        "project_id": "",
        "snapshot_type": "code",
        "schema_id": "notebook_schema_v1",
        "snapshot_id": "",
        "artifacts": {
          "code_intel_enabled": false,
          "text_intel_enabled": false,
          "connections_enabled": false
        }
      },
      "fields": {
        "repo.primary_language": {
          "value": null,
          "sources": [],
          "repeats_index": { "references": [] }
        },
        "repo.entrypoints": {
          "value": [],
          "sources": [],
          "repeats_index": { "references": [] }
        },
        "repo.modules": {
          "value": [],
          "sources": [],
          "repeats_index": { "references": [] }
        },
        "repo.test_framework": {
          "value": null,
          "sources": [],
          "repeats_index": { "references": [] }
        },
        "repo.ci_pipeline": {
          "value": null,
          "sources": [],
          "repeats_index": { "references": [] }
        }
      },
      "code_intel": {
        "parser_runs": []
      },
      "coverage": {
        "filled_field_ids": [],
        "missing_field_ids": [
          "repo.primary_language",
          "repo.entrypoints",
          "repo.modules",
          "repo.test_framework",
          "repo.ci_pipeline"
        ]
      }
    }
  },
  "selection_rules": {
    "choose_text_when": {
      "source_kinds": ["pdf", "txt", "md", "docx", "html", "rtf"]
    },
    "choose_code_when": {
      "source_kinds": ["repo", "code", "py", "ts", "js", "java", "go", "rs", "cpp", "c", "cs"]
    }
  }
}